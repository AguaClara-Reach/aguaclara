

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Flocculator &mdash; AguaClara v0.1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/youtube.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/youtube.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Research" href="../research/research.html" />
    <link rel="prev" title="Design" href="design.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> AguaClara
          

          
          </a>

          
            
            
              <div class="version">
                v0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/core.html">Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="design.html">Design</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Flocculator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../research/research.html">Research</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AguaClara</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="design.html">Design</a> &raquo;</li>
        
      <li>Flocculator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/design/floc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flocculator">
<h1>Flocculator<a class="headerlink" href="#flocculator" title="Permalink to this headline">¶</a></h1>
<p>Here’s how to run the code:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aguaclara.design.floc</span> <span class="k">as</span> <span class="nn">Flocculator</span>
<span class="n">floc</span> <span class="o">=</span> <span class="n">Flocculator</span><span class="p">()</span>
<span class="n">floc</span><span class="o">.</span><span class="n">channel_l</span>
</pre></div>
</div>
<span class="target" id="module-aguaclara.design.floc"></span><p>Flocculator design.</p>
<p>This module provides all constants and functions necessary to design an
AguaClara flocculator. These constants and functions define both hydraulic
(head loss, retention time, etc.) and geometric (baffle spacing, channel length,
etc.) values that specify a flocculator design.</p>
<dl class="class">
<dt id="aguaclara.design.floc.Flocculator">
<em class="property">class </em><code class="descclassname">aguaclara.design.floc.</code><code class="descname">Flocculator</code><span class="sig-paren">(</span><em>Q=&lt;Quantity(20.0</em>, <em>'liter / second')&gt;</em>, <em>temp=&lt;Quantity(25</em>, <em>'degC')&gt;</em>, <em>max_L=&lt;Quantity(6</em>, <em>'meter')&gt;</em>, <em>Gt=37000</em>, <em>HL=&lt;Quantity(40</em>, <em>'centimeter')&gt;</em>, <em>downstream_H=&lt;Quantity(2</em>, <em>'meter')&gt;</em>, <em>ent_tank_L=&lt;Quantity(1.5</em>, <em>'meter')&gt;</em>, <em>max_W=&lt;Quantity(42</em>, <em>'inch')&gt;</em>, <em>drain_t=&lt;Quantity(30</em>, <em>'minute')&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aguaclara/design/floc.html#Flocculator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aguaclara.design.floc.Flocculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates physical dimensions of an AguaClara flocculator.
Constant instance attributes
—————————-
- BAFFLE_K (K or K_{baffle}): float</p>
<blockquote>
<div><ul class="simple">
<li>The minor loss coefficient of the flocculator baffles.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>CHANNEL_N_MIN (N_{channel}: int</dt>
<dd><ul class="first last">
<li>The minimum number of flocculator channels.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>HS_RATIO_MIN (Pi_{HS}): float</dt>
<dd><ul class="first last">
<li>The minimum ratio between expansion height and baffle spacing</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>RATIO_MAX_HS (Pi_{HS}): float</dt>
<dd><ul class="first last">
<li>The maximum ratio between expansion height and baffle spacing</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>SDR (sdr): float</dt>
<dd><ul class="first last">
<li>The standard dimension ratio.</li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.W_min_HS_ratio">
<code class="descname">W_min_HS_ratio</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.W_min_HS_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the minimum flocculator channel width, given the minimum
ratio between expansion height (H) and baffle spacing (S).
:returns: Minimum channel width given H_e/S
:rtype: float * centimeter</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.baffle_S">
<code class="descname">baffle_S</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.baffle_S" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the spacing between baffles.
:returns: Spacing between baffles
:rtype: int</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.channel_L">
<code class="descname">channel_L</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.channel_L" title="Permalink to this definition">¶</a></dt>
<dd><p>The channel length of the flocculator. If ha.HUMAN_W_MIN or W_min_HS_ratio
is the defining constraint for the flocculator width, then the flocculator
volume will be greater than necessary. Bring the volume back to the design
volume by shortening the flocculator in this case. This design approach
will produce flocculators that are the same length as the max_L that was
specified in many cases. The flocculator will be less than the specified
length especially for cases with only one or two sed tanks.
channel_L = (vol/(channel_W * downstream_H) + entrancetank_L)/channel_n
:returns: Channel length
:rtype: float * meter</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.channel_W">
<code class="descname">channel_W</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.channel_W" title="Permalink to this definition">¶</a></dt>
<dd><p>The minimum and hence optimal channel width of the flocculator.
This
The channel must be
- wide enough to meet the volume requirement (channel_est_W)
- wider than human access for construction
- wider than hydraulic requirement to meet H/S ratio
Create a dimensionless array of the 3 requirements and then get the maximum</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Channel width</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float * meter</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.channel_n">
<code class="descname">channel_n</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.channel_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the minimum number of channels based on the maximum
possible channel width and the maximum length of the channels.
Round up to the next even number (factor of 2 shows up twice in equation)
The channel width must be greater than the hydraulic width that ensure baffle overlap.
Based on the equation for the flocculator volume
volume = ([max_L*channel_n] - entrancetank_L)*max_W * downstream_H
:returns: number of channels
:rtype: float * dimensionless</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.design">
<code class="descname">design</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.design" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the designed values.
:returns: list of designed values (G, t, channel_W, obstacle_n)
:rtype: int</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.drain_D">
<code class="descname">drain_D</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.drain_D" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns depth of drain pipe.
:returns: Depth
:return: float</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.drain_K">
<code class="descname">drain_K</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.drain_K" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minor loss coefficient of the drain pipe.
:returns: Minor Loss Coefficient
:return: float</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.drain_ND">
<code class="descname">drain_ND</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.drain_ND" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns the diameter of the drain pipe.</dt>
<dd>Each drain pipe will drain two channels because channels are connected by
a port at the far end and the first channel can’t have a drain because
of the entrance tank. Need to review the design to see if this is a good
assumption.
D_{Pipe} = sqrt{</dd>
</dl>
<p>rac{8 A_{Tank}}{pi t_{Drain}} sqrt{ 
rac{h_0 sum K}{2g} } }</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">returns:</th><td class="field-body">list of designed values</td>
</tr>
<tr class="field-even field"><th class="field-name">rtype:</th><td class="field-body">float * centimeter</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="aguaclara.design.floc.Flocculator.draw">
<code class="descname">draw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aguaclara/design/floc.html#Flocculator.draw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aguaclara.design.floc.Flocculator.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw the Onshape flocculator model based off of this object.</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.expansion_H">
<code class="descname">expansion_H</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.expansion_H" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the height between flow expansions.
:returns: Height between flow expansions
:rtype: float * centimeter</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.expansion_max_H">
<code class="descname">expansion_max_H</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.expansion_max_H" title="Permalink to this definition">¶</a></dt>
<dd><p>“Return the maximum distance between expansions for the largest
allowable H/S ratio.
:returns: Maximum expansion distance
:rtype: float * meter
Examples
——–
exp_dist_max(20*u.L/u.s, 40*u.cm, 37000, 25*u.degC, 2*u.m)
0.375 meter</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.expansion_n">
<code class="descname">expansion_n</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.expansion_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum number of expansions per baffle space.
:returns: Minimum number of expansions/baffle space
:rtype: int</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.obstacle_n">
<code class="descname">obstacle_n</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.obstacle_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of obstacles per baffle.
:returns: Number of obstacles per baffle
:rtype: int</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.retention_time">
<code class="descname">retention_time</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.retention_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the hydraulic retention time neglecting the volume created by head loss in the flocculator.
:returns: Hydraulic retention time (:math:`     heta`)
:rtype: float * second</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.vel_grad_avg">
<code class="descname">vel_grad_avg</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.vel_grad_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average velocity gradient (G-bar) of water flowing
through the flocculator.
:returns: Average velocity gradient (G-bar)
:rtype: float * 1 / second</p>
</dd></dl>

<dl class="attribute">
<dt id="aguaclara.design.floc.Flocculator.vol">
<code class="descname">vol</code><a class="headerlink" href="#aguaclara.design.floc.Flocculator.vol" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the target volume (not counting the volume added by head loss) of the flocculator.
:returns: Target volume
:rtype: float * meter ** 3</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../research/research.html" class="btn btn-neutral float-right" title="Research" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="design.html" class="btn btn-neutral" title="Design" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, AguaClara Cornell.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v0.1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>